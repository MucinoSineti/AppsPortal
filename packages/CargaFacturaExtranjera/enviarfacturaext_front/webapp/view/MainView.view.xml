<mvc:View controllerName="enviarfacturaextfront.controller.MainView"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
    >
    <Page
        id="page"
        title="{i18n>title}"
    >
        <headerContent>
            <DatePicker
                id="dpFechaDesde"
                width="10rem"
                placeholder="Desde"
            />
            <DatePicker
                id="dpFechaHasta"
                width="10rem"
                placeholder="Hasta"
            />
        </headerContent>

        <content>
            <!-- Tabla Resumen de Cuentas -->
            <Table
                id="cuentasTable"
                inset="false"
                growing="true"
                growingScrollToLoad="true"
                mode="MultiSelect"
            >
                <headerToolbar>
                    <Toolbar id="_IDGenToolbar1">
                        <Title
                            id="_IDGenTitle1"
                            text="Entradas de Mercancía"
                            level="H2"
                        />
                        <ToolbarSpacer id="_IDGenToolbarSpacer2" />
                        <SearchField
                            id="_IDGenSearchField"
                            width="20%"
                            placeholder="Buscar..."
                            liveChange=".onSearch"
                        />

                        <Select
                            id="_IDGenSelect"
                            change=".onSearchFieldChange"
                        >
                            <core:Item
                                id="_IDGenItem1"
                                key=""
                                text="Num. de Entrega"
                            />
                            <core:Item
                                id="_IDGenItem2"
                                key=""
                                text="Orden de Compra"
                            />
                            <core:Item
                                id="_IDGenItem3"
                                key=""
                                text="Cliente"
                            />
                            <core:Item
                                id="_IDGenItem4"
                                key=""
                                text="Referencia"
                            />
                        </Select>
                        <Button
                            icon="sap-icon://action"
                            text="Enviar Factura"
                            type="Emphasized"
                            id="bEnviarFactura"
                            press=".onEnviarFactura"
                        />
                        <Button
                            icon="sap-icon://discussion-2"
                            text="Enviar Aclaración"
                            type="Emphasized"
                            id="bEnviarAclaracion"
                            press=".onEnviarAclaracion"
                        />
                    </Toolbar>
                </headerToolbar>

                <columns>
                    <Column
                        id="_IDGenColumn"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText1"
                            text="Num. de Entrega"
                        />
                    </Column>
                    <Column id="_IDGenColumn1">
                        <Text
                            id="_IDGenText2"
                            text="Orden de Compra"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn2"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText3"
                            text="Nombre del Proveedor"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn3"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText4"
                            text="Cliente"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn4"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText5"
                            text="Referencia"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn5"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText6"
                            text="Clase de Condición"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn6"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText7"
                            text="Fecha de Entrega"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn7"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    >
                        <Text
                            id="_IDGenText8"
                            text="Importe"
                        />
                    </Column>
                    <Column
                        id="_IDGenColumn8"
                        demandPopin="true"
                        minScreenWidth="Tablet"
                    />
                </columns>

                <items>
                    <ColumnListItem id="_IDGenColumnListItem1">
                        <cells>
                            <Link
                                id="_IDGenStatus"
                                text="5000061582"
                            />

                            <Text
                                id="_IDGenText13"
                                text="4500000044"
                            />
                            <Text
                                id="_IDGenLink"
                                text="BALLESTRA SPA"
                            />
                            <Text
                                id="_IDGenText15"
                                text="Sánchez y Martín"
                            />
                            <Text
                                id="_IDGenText16"
                                text=""
                            />
                            <Text
                                id="_IDGenText17"
                                text=""
                            />
                            <Text
                                id="_IDGenText18"
                                text="22-10-2025"
                            />
                            <Text
                                id="_IDGenText19"
                                text="2,741.20 EUR"
                            />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
            <Dialog
                id="dlgFacturaExterna"
                title="Enviar Factura Externa"
                stretchOnPhone="true"
                contentWidth="40rem"
                xmlns:core="sap.ui.core"
                xmlns:form="sap.ui.layout.form"
            >
                <content>
                    <!-- Panel formulario -->
                    <Panel
                        id="_IDGenPanel"
                        headerText="Detalle de Factura"
                    >
                        <content>
                            <form:SimpleForm
                                id="_IDGenSimpleForm"
                                editable="true"
                                layout="ResponsiveGridLayout"
                            >
                                <Label
                                    id="_IDGenLabel"
                                    text="Número de Factura"
                                />
                                <Input
                                    id="_IDGenInput"
                                    value="123456"
                                />

                                <Label
                                    id="_IDGenLabel1"
                                    text="Subtotal"
                                />
                                <Input
                                    id="_IDGenInput1"
                                    value="1000.00"
                                />

                                <Label
                                    id="_IDGenLabel2"
                                    text="Total"
                                />
                                <Input
                                    id="_IDGenInput2"
                                    value="1160.00"
                                />

                                <Label
                                    id="_IDGenLabel3"
                                    text="Fecha Factura"
                                />
                                <DatePicker
                                    id="_IDGenDatePicker"
                                    value="2025-11-04"
                                    displayFormat="dd-MM-yyyy"
                                />

                                <Label
                                    id="_IDGenLabel4"
                                    text="Método de Pago"
                                />
                                <Select id="_IDGenSelect1">
                                    <core:Item
                                        id="_IDGenItem"
                                        key="transferencia"
                                        text="Transferencia"
                                    />
                                    <core:Item
                                        id="_IDGenItem5"
                                        key="efectivo"
                                        text="Efectivo"
                                    />
                                </Select>

                                <Label
                                    id="_IDGenLabel5"
                                    text="Moneda"
                                />
                                <Select id="_IDGenSelect2">
                                    <core:Item
                                        id="_IDGenItem6"
                                        key="eur"
                                        text="EUR"
                                    />
                                    <core:Item
                                        id="_IDGenItem7"
                                        key="mxn"
                                        text="MXN"
                                    />
                                </Select>
                            </form:SimpleForm>
                        </content>
                    </Panel>

                    <!-- Panel con anexos -->
                    <Panel
                        id="_IDGenPanel1"
                        headerText="Anexos (0)"
                    >
                        <content>
                            <VBox
                                id="_IDGenVBox"
                                class="sapUiSmallMargin"
                            >
                                <Text
                                    id="_IDGenText"
                                    text="Ningún archivo seleccionado"
                                />
                                <Button
                                    id="_IDGenButton1"
                                    text="+ Añadir"
                                    type="Transparent"
                                />
                            </VBox>
                        </content>
                    </Panel>
                </content>

                <beginButton>
                    <Button
                        id="_IDGenButton2"
                        text="Cerrar"
                        press=".onCerrarDialog"
                    />
                </beginButton>
            </Dialog>

            <Dialog
                id="dlgAclaracion"
                title="Carga de Anexos para Aclaración"
                stretchOnPhone="true"
                contentWidth="40rem"
                xmlns:core="sap.ui.core"
            >
                <content>
                    <VBox
                        id="_IDGenVBox1"
                        class="sapUiSmallMargin"
                    >
                        <Title
                            id="_IDGenTitle"
                            text="Anexos (0)"
                            level="H3"
                        />
                        <HBox
                            id="_IDGenHBox"
                            alignItems="Center"
                            justifyContent="SpaceBetween"
                        >
                            <Text
                                id="_IDGenText9"
                                text="Ningún archivo ha sido cargado"
                            />
                            <Button
                                id="_IDGenButton"
                                text="Añadir"
                                type="Transparent"
                            />
                        </HBox>
                        <Text
                            id="_IDGenText10"
                            text="Máximo 5 archivos / 10 Mb. Formatos válidos: PDF, PNG y JPG."
                        />

                        <Label
                            id="_IDGenLabel6"
                            text="Comentario"
                        />
                        <TextArea
                            id="_IDGenTextArea1"
                            width="100%"
                            placeholder="Ingrese un comentario descriptivo a la aclaración."
                            rows="4"
                        />
                    </VBox>
                </content>

                <beginButton>
                    <Button
                        id="_IDGenButton3"
                        text="Enviar"
                        type="Emphasized"
                        press=".onEnviarAclaracionConfirm"
                    />
                </beginButton>
                <endButton>
                    <Button
                        id="_IDGenButton4"
                        text="Cerrar"
                        press=".onCerrarAclaracion"
                    />
                </endButton>
            </Dialog>
        </content>
    </Page>
</mvc:View>
